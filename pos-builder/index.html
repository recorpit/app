<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POS Builder - Editor Avanzato</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1>üèóÔ∏è POS Builder - Editor Avanzato</h1>
                <div class="header-controls">
                    <button id="saveFormatBtn" class="btn btn-primary">üíæ Salva Format</button>
                    <button id="previewBtn" class="btn btn-secondary">üëÅÔ∏è Anteprima</button>
                    <button id="generatePdfBtn" class="btn btn-success">üìÑ Genera PDF</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar con Form -->
            <aside class="sidebar">
                <div class="form-container">
                    <h3>üìã Dati Progetto</h3>
                    
                    <!-- Step 1: Dati Cliente -->
                    <div class="form-section active" id="step1">
                        <h4>üë§ Dati Cliente & Cantiere</h4>
                        <div class="form-group">
                            <label>Committente:</label>
                            <input type="text" id="committente" placeholder="Nome Committente">
                        </div>
                        <div class="form-group">
                            <label>Indirizzo Cantiere:</label>
                            <input type="text" id="indirizzoCantiere" placeholder="Via, Citt√†">
                        </div>
                        <div class="form-group">
                            <label>Descrizione Lavori:</label>
                            <textarea id="descrizioneLavori" placeholder="Descrizione dei lavori da eseguire"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Data Inizio:</label>
                            <input type="date" id="dataInizio">
                        </div>
                        <div class="form-group">
                            <label>Data Fine:</label>
                            <input type="date" id="dataFine">
                        </div>
                    </div>

                    <!-- Step 2: Lavorazioni -->
                    <div class="form-section" id="step2">
                        <h4>‚öíÔ∏è Lavorazioni</h4>
                        <div class="form-group">
                            <label>Durata Lavori (giorni):</label>
                            <input type="number" id="durataLavori" placeholder="15">
                        </div>
                        <div class="form-group">
                            <label>Numero Operatori:</label>
                            <input type="number" id="numeroOperatori" placeholder="5">
                        </div>
                        <div class="form-group">
                            <label>Tipologia Lavori:</label>
                            <select id="tipologiaLavori">
                                <option value="Asfaltature">Asfaltature</option>
                                <option value="Demolizioni">Demolizioni</option>
                                <option value="Scavi">Scavi</option>
                                <option value="Altro">Altro</option>
                            </select>
                        </div>
                    </div>

                    <!-- Step 3: Immagini -->
                    <div class="form-section" id="step3">
                        <h4>üñºÔ∏è Logo & Firma</h4>
                        <div class="form-group">
                            <label>Logo Aziendale:</label>
                            <div class="upload-area" id="logoUpload">
                                <input type="file" id="logoFile" accept="image/*">
                                <div class="upload-text">
                                    üìé Trascina il logo qui o clicca per caricare
                                </div>
                                <div class="logo-preview" id="logoPreview"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Firma Digitale:</label>
                            <div class="upload-area" id="firmaUpload">
                                <input type="file" id="firmaFile" accept="image/*">
                                <div class="upload-text">
                                    ‚úçÔ∏è Trascina la firma qui o clicca per caricare
                                </div>
                                <div class="firma-preview" id="firmaPreview"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Toolbar Editor -->
                    <div class="editor-toolbar">
                        <h4>üõ†Ô∏è Strumenti Editor</h4>
                        <div class="toolbar-buttons">
                            <button class="tool-btn" id="addTextBtn">üìù Aggiungi Testo</button>
                            <button class="tool-btn" id="addImageBtn">üñºÔ∏è Aggiungi Immagine</button>
                            <button class="tool-btn" id="addTableBtn">üìä Aggiungi Tabella</button>
                            <button class="tool-btn" id="addHeaderBtn">üìã Intestazione</button>
                            <button class="tool-btn" id="addBoxBtn">üì¶ Box Contenitore</button>
                            <button class="tool-btn" id="editModeBtn">‚úèÔ∏è Modalit√† Editor</button>
                        </div>
                    </div>

                    <!-- Step Navigation -->
                    <div class="step-navigation">
                        <button class="step-btn active" data-step="1">üë§ Cliente</button>
                        <button class="step-btn" data-step="2">‚öíÔ∏è Lavori</button>
                        <button class="step-btn" data-step="3">üñºÔ∏è Media</button>
                    </div>
                </div>
            </aside>

            <!-- Main Preview Area -->
            <main class="preview-area">
                <!-- Page Controls -->
                <div class="page-controls">
                    <div class="navigation-controls">
                        <button id="prevPageBtn" class="nav-btn">‚Üê Precedente</button>
                        <div class="page-indicator">
                            <span id="currentPageNum">1</span> di <span id="totalPages">29</span>
                        </div>
                        <button id="nextPageBtn" class="nav-btn">Successiva ‚Üí</button>
                    </div>
                    
                    <div class="page-selector">
                        <select id="pageSelect">
                            <option value="1">1. Copertina</option>
                            <option value="2">2. Indice</option>
                            <option value="3">3. Definizioni</option>
                            <option value="4">4. Dati Cantiere</option>
                            <option value="5">5. Mansioni</option>
                            <option value="6">6. Organizzazione</option>
                            <option value="7">7. Attivit√† Cantiere</option>
                            <option value="8">8. Modalit√† Organizzative</option>
                            <option value="9">9. Servizi Igienico Assistenziali</option>
                            <option value="10">10. Attrezzature</option>
                            <option value="11">11. DPI</option>
                            <option value="12">12. Formazione</option>
                            <option value="13">13. Sorveglianza Sanitaria</option>
                            <option value="14">14. Gestione Emergenze</option>
                            <option value="15">15. Segnaletica</option>
                            <option value="16">16. Interferenze</option>
                            <option value="17">17. Cronoprogramma</option>
                            <option value="18">18. Valutazione Rischi - Fasi 1-2</option>
                            <option value="19">19. Valutazione Rischi - Fasi 3-5</option>
                            <option value="20">20. Valutazione Rischi - Fasi 6-8</option>
                            <option value="21">21. Valutazione Rischi - Fase 9</option>
                            <option value="22">22. Valutazione Rischi - Fase 10</option>
                            <option value="23">23. Schede Attrezzature</option>
                            <option value="24">24. Scheda Bombola Gas</option>
                            <option value="25">25. Scheda Betoniera</option>
                            <option value="26">26. Scheda Compressore</option>
                            <option value="27">27. Scheda Escavatore</option>
                            <option value="28">28. Scheda Autogru</option>
                            <option value="29">29. Fine Documento</option>
                        </select>
                    </div>

                    <div class="zoom-controls">
                        <label>üîç Zoom:</label>
                        <input type="range" id="zoomSlider" min="25" max="200" value="100">
                        <span id="zoomValue">100%</span>
                    </div>
                </div>

                <!-- Document Preview -->
                <div class="document-container">
                    <div class="document-page" id="documentPage">
                        <!-- Il contenuto della pagina verr√† inserito dinamicamente qui -->
                    </div>
                </div>

                <!-- Element Properties Panel -->
                <div class="properties-panel" id="propertiesPanel" style="display: none;">
                    <h4>üé® Propriet√† Elemento</h4>
                    <div class="property-group">
                        <label>Testo:</label>
                        <textarea id="elementText"></textarea>
                    </div>
                    <div class="property-group">
                        <label>Dimensione Font:</label>
                        <input type="range" id="fontSize" min="8" max="24" value="12">
                    </div>
                    <div class="property-group">
                        <label>Colore:</label>
                        <input type="color" id="textColor" value="#000000">
                    </div>
                    <div class="property-group">
                        <label>Allineamento:</label>
                        <select id="textAlign">
                            <option value="left">Sinistra</option>
                            <option value="center">Centro</option>
                            <option value="right">Destra</option>
                        </select>
                    </div>
                    <div class="property-actions">
                        <button id="applyPropertiesBtn" class="btn btn-primary">‚úÖ Applica</button>
                        <button id="deleteElementBtn" class="btn btn-danger">üóëÔ∏è Elimina</button>
                    </div>
                </div>
            </main>
        </div>

        <!-- Popup Modals -->
        <div class="modal" id="textEditModal" style="display: none;">
            <div class="modal-content">
                <h3>‚úèÔ∏è Modifica Testo</h3>
                <textarea id="textEditArea" rows="10"></textarea>
                <div class="modal-actions">
                    <button id="saveTextBtn" class="btn btn-primary">üíæ Salva</button>
                    <button id="cancelTextBtn" class="btn btn-secondary">‚ùå Annulla</button>
                </div>
            </div>
        </div>

        <div class="modal" id="imageUploadModal" style="display: none;">
            <div class="modal-content">
                <h3>üñºÔ∏è Aggiungi Immagine</h3>
                <div class="upload-area">
                    <input type="file" id="newImageFile" accept="image/*">
                    <div class="upload-text">Trascina immagine qui o clicca per caricare</div>
                </div>
                <div class="modal-actions">
                    <button id="addImageConfirmBtn" class="btn btn-primary">‚ûï Aggiungi</button>
                    <button id="cancelImageBtn" class="btn btn-secondary">‚ùå Annulla</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
